# Wallets&Transactions

Тестовое задание.

## Запуск

Это консольное C# приложение, написанное на C# net9.0.
\
Оно наличествует зависимостями (требуется `nuget restore`):
1. [NativeFileDialogNET:2.0.2](https://github.com/atomsk-0/NativeFiledialogNET) -- кросс-платформенные натиные окна выбора файла
2. [System.Text.Json:9.0.10](https://www.nuget.org/packages/System.Text.Json) -- используется для парсинга JSON
3. [NUnit:4.4.0](https://www.nuget.org/packages/NUnit),
   [NUnit3TestAdapter:5.2.0](https://www.nuget.org/packages/NUnit3TestAdapter),
   [Microsoft.NET.Test.Sdk:18.0.0](https://www.nuget.org/packages/Microsoft.NET.Test.Sdk) -- тесты

## Геймплей

- Запустите приложение
- При первом запуске вам будет предложено выбрать цветовую схему консоли (для светлой или темной темы)
- На главном экране отобразится список доступных команд
- Введите ID команды, чтобы выполнить действие (например, 1 для импорта или 2 для добавления кошелька)
- Следуйте инструкциям на экране. Система оснащена надежной валидацией ввода:
  - Отмена операций: Вы можете нажать CTRL+C (или CTRL+D) в любой момент, чтобы отменить текущий ввод или выйти из приложения
  - Валидация ввода: Приложение не позволит ввести некорректные данные (например, пустые строки, неверные форматы чисел или операции, нарушающие бизнес-логику, такие как трата "задним числом", которая сделает баланс в будущем отрицательным)

## Навигация

- [Program.cs](WalletsAndTransactions/Program.cs)
  - Точка входа в приложение, отвечает за инициализацию компонентов, управление цветовой темой и главный цикл меню
- [View/ConsoleApp.cs](WalletsAndTransactions/View/ConsoleApp.cs)
  - View, отвечает за весь диалог с пользователем: рендеринг меню, запрос данных, валидацию пользовательского ввода и форматирование отчетов для вывода
- [Model/](WalletsAndTransactions/Model)
  - Репозиторий и сущности
- [POCOs/](WalletsAndTransactions/POCOs)
  - "Plain Old C# Objects". Упрощенные классы, используемые только для десериализации данных из `.json`.
- [IO/](WalletsAndTransactions/IO) -- Вспомогательные классы для ввода-вывода
  - `ConsoleExt.cs`: Утилиты для надежного ввода (`Retrying`) и управления цветами консоли
  - `TablePrinter.cs`: Универсальный класс для красивой печати данных в виде таблицы
- [Util/](WalletsAndTransactions/Util)
  - Мелкие утилиты, такие как `JsonSerializerExt` для удобной десериализации
- [WalletsAndTransactions.Tests/](WalletsAndTransactions.Tests)
  - Unit-тесты, см. принцип TDBF ниже

## Принципы

- Использовать [эмодзи в коммитах](https://gitmoji.dev/), несмотря на аппроприацию их чат-ботами
- [TDBF -- Test-Driven Bug Fixing](https://forsberg.dev/posts/Test-Driven%20Bug%20Fixing/):
  из-за спешки времени на полноценный TDD нет,
  но каждая обнаруженная ошибка может быть использована для укрепления всеобщей конструкции
- \+ Для ошибок, которые могут быть обнаружены на этапе ввода, должно добавлять проверки при вводе

## TODO

- Добавить гифки в Readme для демонстрации
- Дописать docstrings для всех публичных методов
- Вынести строки в ресурсы
- Продолжать сожалеть о добавлении ретроактивного добавления транзакций
- Высушить Readme
